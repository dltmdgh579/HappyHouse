"use strict";(self["webpackChunkvue_board_bootstrap"]=self["webpackChunkvue_board_bootstrap"]||[]).push([[940],{6940:function(t,e,r){r.r(e),r.d(e,{default:function(){return g}});var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-container",{staticClass:"bv-example-row mt-3"},[r("br"),r("br"),r("h3",{attrs:{align:"left"}},[t._v("자유게시판")]),r("br"),r("br"),r("b-row",{staticClass:"mb-1"},[r("b-col",[r("b-card",{staticClass:"mb-2",attrs:{"header-html":"<h4>\n        "+t.article.subject+" </h4></br><div><h6 align='right'>작성자: "+t.article.userid+"</div><div align='right'>작성시간: "+t.article.regtime+"</h6></div>","border-variant":"dark","no-body":""}},[r("b-card-body",{staticClass:"text-left"},[r("div",{domProps:{innerHTML:t._s(t.message)}})]),t._l(t.replies,(function(e){return r("b-card-footer",{key:e.userid,attrs:{variant:"light"}},[r("board-reply-item",t._b({},"board-reply-item",e,!1))],1)}))],2)],1)],1),r("b-row",[r("b-col",{attrs:{sm:"10",row:"2",align:"left"}},[r("b-form-input",{model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1),r("b-col",{attrs:{sm:"2",align:"right"}},[r("b-button",{attrs:{variant:"outline-primary"},on:{click:t.Reply}},[t._v("댓글달기")])],1)],1),r("br"),r("b-row",{staticClass:"mb-1"},[r("b-col",{staticClass:"text-left"},[r("b-button",{attrs:{variant:"outline-primary"},on:{click:t.listArticle}},[t._v(" 목록 ")])],1),r("b-col",{staticClass:"text-right"},[t.checkUser()?r("b-button",{staticClass:"mr-2",attrs:{variant:"outline-info"},on:{click:t.moveModifyArticle}},[t._v("글수정")]):t._e(),t.checkUser()?r("b-button",{attrs:{variant:"outline-danger"},on:{click:t.deleteArticle}},[t._v("글삭제")]):t._e()],1)],1)],1)},i=[],a=r(2164),o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-row",[r("b-col",{attrs:{align:"left"}},[r("b",[t._v(t._s(t.userid))])]),r("b-col",{attrs:{cols:"8",align:"left"}},[t._v(" "+t._s(t.content)+" ")]),r("b-col",[t._v(" "+t._s(t.regtime)+" ")])],1)},s=[],c={name:"BoardReplyItem",props:{userid:String,content:String,regtime:String}},l=c,u=r(1001),h=(0,u.Z)(l,o,s,!1,null,null,null),b=h.exports,d=r(4665),f={components:{BoardReplyItem:b},name:"BoardDetail",data(){return{article:{},content:"",replies:[],isWriter:!1}},computed:{message(){return this.article.content?this.article.content.split("\n").join("<br>"):""},...(0,d.rn)("memberStore",["userInfo"])},created(){(0,a.fq)(this.$route.params.articleno,(t=>{this.article=t.data}),(t=>{console.log("삭제시 에러발생!!",t)})),(0,a.HU)(this.$route.params.articleno,(t=>{this.replies=t.data,console.log(this.replies)}),(t=>{console.log(t)}))},mounted(){this.checkUser()},methods:{listArticle(){this.$router.push({name:"boardList"})},moveModifyArticle(){this.$router.replace({name:"boardModify",params:{articleno:this.article.articleno}})},deleteArticle(){confirm("정말로 삭제?")&&(0,a.jX)(this.article.articleno,(()=>{this.$router.push({name:"boardList"})}))},Reply(){(0,a.B0)({userid:this.userInfo.userid,articleno:this.$route.params.articleno,content:this.content},(()=>{this.replies=[],(0,a.HU)(this.$route.params.articleno,(t=>{this.replies=t.data,this.content=""}))}))},checkUser(){return this.article.userid==this.userInfo.userid||"admin"==this.userInfo.userid}}},m=f,p=(0,u.Z)(m,n,i,!1,null,null,null),g=p.exports},2164:function(t,e,r){r.d(e,{B0:function(){return b},HU:function(){return c},cn:function(){return l},fq:function(){return s},hY:function(){return o},jC:function(){return a},jX:function(){return u},vA:function(){return h}});var n=r(6927);const i=(0,n.b)();function a(t,e,r){i.get("/board",{params:t}).then(e).catch(r)}function o(t,e,r){i.post("/board",JSON.stringify(t)).then(e).catch(r)}function s(t,e,r){i.get(`/board/${t}`).then(e).catch(r)}function c(t,e,r){i.get(`/board/reply/${t}`).then(e).catch(r)}function l(t,e,r){i.put(`/board/${t.articleno}`,JSON.stringify(t)).then(e).catch(r)}function u(t,e,r){i.delete(`/board/${t}`).then(e).catch(r)}function h(t,e,r,n){i.get("/board/search"+t+"/"+e).then(r).catch(n)}function b(t,e,r){i.post("/board/reply",t).then(e).catch(r)}}}]);
//# sourceMappingURL=940.70be28f6.js.map