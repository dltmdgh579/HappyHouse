"use strict";(self["webpackChunkvue_board_bootstrap"]=self["webpackChunkvue_board_bootstrap"]||[]).push([[976],{56976:function(t,n,e){e.r(n),e.d(n,{default:function(){return S}});var s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("b-container",{staticClass:"bv-row mt-3"},[e("br"),e("br"),e("h3",{staticClass:"text-left"},[t._v("뉴스")]),e("br"),e("news-search-bar",{attrs:{id:"bar"},on:{selected:t.selected}}),e("b-card",{staticStyle:{padding:"1px"},attrs:{header:"내 관심지역"}},[e("div",{staticClass:"card-body",staticStyle:{padding:"1px"}},t._l(t.interests,(function(n,s){return e("span",{key:s},[e("b-button",{staticClass:"mb-1",attrs:{variant:"info"},on:{click:function(e){return t.selected(n)}}},[t._v(t._s(n)+" ")]),e("b-button",{staticClass:"mr-1",attrs:{variant:"outline"},on:{click:function(e){return t.remove(n)}}},[t._v("X")])],1)})),0)]),e("b-row",[e("b-col",[e("br"),e("b-table-simple",{attrs:{hover:"",stripe:"",responsive:""}},[e("b-thead",[e("b-tr",[null==t.dongName?e("b-th",[e("h4",[t._v("뉴스를 검색할 지역을 선택해주세요.")])]):e("b-th",[e("b-col",[e("h4",{attrs:{sm:"4"}},[t._v(t._s(t.dongName)+" 관련 뉴스입니다.")]),e("b-button",{attrs:{variant:"outline-info"},on:{click:function(n){return t.add(t.dongName)}}},[t._v(" 관심지역 추가하기")])],1)],1)],1),e("br")],1),e("b-tbody",t._l(t.news,(function(n,s){return e("b-tr",{key:s},[e("b-row",[e("b-col",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"collapse"+s,expression:"'collapse' + index"}],attrs:{sm:"10"},domProps:{innerHTML:t._s("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+n.title)}},[e("b-card",{staticClass:"mt-3"},[e("p",{domProps:{innerHTML:t._s(n.title)}})])],1)],1),e("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse"+s.toString()}},[e("b-card",[e("p",{domProps:{innerHTML:t._s(n.description)}}),e("b-button",{attrs:{size:"sm",variant:"outline-primary"},on:{click:function(e){return t.viewNews(n.link)}}},[t._v("자세히 보기")])],1)],1),e("hr")],1)})),1)],1)],1)],1)],1)},o=[],i=e(93019),a=(e(92222),e(86927)),r=(0,a.b)();function c(t,n,e){r.get("/news/".concat(t)).then(n).catch(e)}function u(t,n,e){r.get("/news/interest/".concat(t)).then(n).catch(e)}function l(t,n,e){r.get("/news/interest/".concat(t,"/").concat(n)).then(e)}function d(t,n,e){r.delete("/news/interest/".concat(t,"/").concat(n)).then(e)}function g(t,n,e){r.get("/news/check/".concat(t,"/").concat(n)).then(e)}var b=e(34665),f=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("b-row",{staticClass:"mt-4 mb-4 text-center"},[e("b-col",{staticClass:"sm-4"},[e("b-form-select",{attrs:{options:t.sidos},on:{change:t.gugunList},model:{value:t.sidoCode,callback:function(n){t.sidoCode=n},expression:"sidoCode"}})],1),e("b-col",{staticClass:"sm-4"},[e("b-form-select",{attrs:{options:t.guguns},on:{change:t.dongList},model:{value:t.gugunCode,callback:function(n){t.gugunCode=n},expression:"gugunCode"}})],1),e("b-col",{staticClass:"sm-4"},[e("b-form-select",{attrs:{options:t.dongs},on:{change:t.sendDong},model:{value:t.dongName,callback:function(n){t.dongName=n},expression:"dongName"}})],1)],1)},h=[],m="houseStore",p={name:"NewsSearchBar",data:function(){return{sidoCode:null,gugunCode:null,dongCode:null,dongName:null}},computed:(0,i.Z)({},(0,b.rn)(m,["sidos","guguns","dongs"])),created:function(){this.CLEAR_SIDO_LIST(),this.getSido()},methods:(0,i.Z)((0,i.Z)((0,i.Z)({},(0,b.nv)(m,["getSido","getGugun","getDong2","getHouseList"])),(0,b.OI)(m,["CLEAR_SIDO_LIST","CLEAR_GUGUN_LIST","CLEAR_DONG_LIST"])),{},{gugunList:function(){this.CLEAR_GUGUN_LIST(),this.gugunCode=null,this.sidoCode&&this.getGugun(this.sidoCode)},dongList:function(){this.CLEAR_DONG_LIST(),this.dongCode=null,this.gugunCode&&this.getDong2(this.gugunCode)},sendDong:function(){this.$emit("selected",this.dongName)}})},v=p,C=e(1001),_=(0,C.Z)(v,f,h,!1,null,null,null),w=_.exports,L={components:{NewsSearchBar:w},data:function(){return{news:null,dongName:null,interests:[]}},watch:{interests:[]},computed:(0,i.Z)({},(0,b.rn)("memberStore",["userInfo"])),created:function(){var t=this;null!=this.userInfo&&u(this.userInfo.userid,(function(n){t.interests=n.data}),(function(t){console.log("관심지역 에러 발생",t)}))},methods:{viewNews:function(t){window.open(t)},selected:function(t){var n=this;this.news=null,this.dongName=t,c(t,(function(t){n.news=t.data.items}))},remove:function(t){var n=this;d(this.userInfo.userid,t,(function(){u(n.userInfo.userid,(function(t){n.interests=t.data}),(function(t){console.log("관심지역 에러 발생",t)}))}))},add:function(t){var n=this;g(this.userInfo.userid,t,(function(e){0==e.data&&l(n.userInfo.userid,t,(function(){u(n.userInfo.userid,(function(t){n.interests=t.data}),(function(t){console.log("관심지역 에러 발생",t)}))}))}))}}},N=L,I=(0,C.Z)(N,s,o,!1,null,"08ba953e",null),S=I.exports}}]);
//# sourceMappingURL=976-legacy.61262649.js.map