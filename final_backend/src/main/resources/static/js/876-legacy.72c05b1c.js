"use strict";(self["webpackChunkvue_board_bootstrap"]=self["webpackChunkvue_board_bootstrap"]||[]).push([[876],{73876:function(t,e,n){n.r(e),n.d(e,{default:function(){return g}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-container",{staticClass:"bv-example-row mt-3"},[n("br"),n("br"),n("h3",{attrs:{align:"left"}},[t._v("공지사항")]),n("br"),n("br"),n("b-row",{staticClass:"mb-1",attrs:{id:"box"}},[n("b-col",[n("b-card",{staticClass:"mb-2",attrs:{"header-html":"<h4>\n        "+t.article.subject+" </h4></br><div><h6 align='right'>작성자: "+t.article.userid+"</div><div align='right'>작성시간: "+t.article.regtime+"</h6></div>","border-variant":"dark","no-body":""}},[n("b-card-body",{staticClass:"text-left"},[n("div",{domProps:{innerHTML:t._s(t.message)}})]),t._l(t.replies,(function(e){return n("b-card-footer",{key:e.userid,attrs:{variant:"light"}},[n("notice-reply-item",t._b({},"notice-reply-item",e,!1))],1)}))],2)],1)],1),n("b-row",[n("b-col",{attrs:{sm:"10",row:"2",align:"left"}},[n("b-form-input",{model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1),n("b-col",{attrs:{sm:"2",align:"right"}},[n("b-button",{attrs:{variant:"outline-primary"},on:{click:t.Reply}},[t._v("댓글달기")])],1)],1),n("br"),n("b-row",{staticClass:"mb-1"},[n("b-col",{staticClass:"text-left"},[n("b-button",{attrs:{variant:"outline-primary"},on:{click:t.listArticle}},[t._v(" 목록 ")])],1),n("b-col",{staticClass:"text-right"},[t.checkUser()?n("b-button",{staticClass:"mr-2",attrs:{variant:"outline-info"},on:{click:t.moveModifyArticle}},[t._v("글수정")]):t._e(),t.checkUser()?n("b-button",{attrs:{variant:"outline-danger"},on:{click:t.deleteArticle}},[t._v("글삭제")]):t._e()],1)],1)],1)},r=[],c=n(93019),o=(n(69600),n(74916),n(23123),n(15306),n(92317)),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-row",[n("b-col",{attrs:{align:"left"}},[n("b",[t._v(t._s(t.userid))])]),n("b-col",{attrs:{cols:"8",align:"left"}},[t._v(" "+t._s(t.content)+" ")]),n("b-col",[t._v(" "+t._s(t.regtime)+" ")])],1)},s=[],l={name:"NoticeReplyItem",props:{userid:String,content:String,regtime:String}},u=l,f=n(1001),h=(0,f.Z)(u,a,s,!1,null,null,null),b=h.exports,d=n(34665),m={components:{NoticeReplyItem:b},name:"NoticeDetail",data:function(){return{article:{},content:"",replies:[],isWriter:!1}},computed:(0,c.Z)({message:function(){return this.article.content?this.article.content.split("\n").join("<br>"):""}},(0,d.rn)("memberStore",["userInfo"])),created:function(){var t=this;(0,o.fq)(this.$route.params.articleno,(function(e){t.article=e.data}),(function(t){console.log("삭제시 에러발생!!",t)})),(0,o.HU)(this.$route.params.articleno,(function(e){t.replies=e.data,console.log(t.replies)}),(function(t){console.log(t)}))},mounted:function(){this.checkUser()},methods:{listArticle:function(){this.$router.push({name:"noticeList"})},moveModifyArticle:function(){this.$router.replace({name:"noticeModify",params:{articleno:this.article.articleno}})},deleteArticle:function(){var t=this;confirm("정말로 삭제?")&&(0,o.jX)(this.article.articleno,(function(){t.$router.push({name:"noticeList"})}))},Reply:function(){var t=this;(0,o.B0)({userid:this.userInfo.userid,articleno:this.$route.params.articleno,content:this.content},(function(){t.replies=[],(0,o.HU)(t.$route.params.articleno,(function(e){t.replies=e.data}))}))},checkUser:function(){return null!=this.userInfo&&(this.article.userid==this.userInfo.userid||"admin"==this.userInfo.userid)}}},p=m,v=(0,f.Z)(p,i,r,!1,null,"4e9638b0",null),g=v.exports},92317:function(t,e,n){n.d(e,{B0:function(){return h},HU:function(){return s},cn:function(){return l},fq:function(){return a},hY:function(){return o},jC:function(){return c},jX:function(){return u},vA:function(){return f}});n(38862);var i=n(86927),r=(0,i.b)();function c(t,e,n){r.get("/notice",{params:t}).then(e).catch(n)}function o(t,e,n){r.post("/notice",JSON.stringify(t)).then(e).catch(n)}function a(t,e,n){r.get("/notice/".concat(t)).then(e).catch(n)}function s(t,e,n){r.get("/notice/reply/".concat(t)).then(e).catch(n)}function l(t,e,n){r.put("/notice/".concat(t.articleno),JSON.stringify(t)).then(e).catch(n)}function u(t,e,n){r.delete("/notice/".concat(t)).then(e).catch(n)}function f(t,e,n,i){r.get("/notice/search"+t+"/"+e).then(n).catch(i)}function h(t,e,n){r.post("/notice/reply",t).then(e).catch(n)}}}]);
//# sourceMappingURL=876-legacy.72c05b1c.js.map