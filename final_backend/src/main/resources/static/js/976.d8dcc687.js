"use strict";(self["webpackChunkvue_board_bootstrap"]=self["webpackChunkvue_board_bootstrap"]||[]).push([[976],{6976:function(t,e,s){s.r(e),s.d(e,{default:function(){return I}});var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-container",{staticClass:"bv-row mt-3"},[s("br"),s("br"),s("h3",{staticClass:"text-left"},[t._v("뉴스")]),s("br"),s("news-search-bar",{attrs:{id:"bar"},on:{selected:t.selected}}),s("b-card",{staticStyle:{padding:"1px"},attrs:{header:"내 관심지역"}},[s("div",{staticClass:"card-body",staticStyle:{padding:"1px"}},t._l(t.interests,(function(e,n){return s("span",{key:n},[s("b-button",{staticClass:"mb-1",attrs:{variant:"info"},on:{click:function(s){return t.selected(e)}}},[t._v(t._s(e)+" ")]),s("b-button",{staticClass:"mr-1",attrs:{variant:"outline"},on:{click:function(s){return t.remove(e)}}},[t._v("X")])],1)})),0)]),s("b-row",[s("b-col",[s("br"),s("b-table-simple",{attrs:{hover:"",stripe:"",responsive:""}},[s("b-thead",[s("b-tr",[null==t.dongName?s("b-th",[s("h4",[t._v("뉴스를 검색할 지역을 선택해주세요.")])]):s("b-th",[s("b-col",[s("h4",{attrs:{sm:"4"}},[t._v(t._s(t.dongName)+" 관련 뉴스입니다.")]),s("b-button",{attrs:{variant:"outline-info"},on:{click:function(e){return t.add(t.dongName)}}},[t._v(" 관심지역 추가하기")])],1)],1)],1),s("br")],1),s("b-tbody",t._l(t.news,(function(e,n){return s("b-tr",{key:n},[s("b-row",[s("b-col",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"collapse"+n,expression:"'collapse' + index"}],attrs:{sm:"10"},domProps:{innerHTML:t._s("&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+e.title)}},[s("b-card",{staticClass:"mt-3"},[s("p",{domProps:{innerHTML:t._s(e.title)}})])],1)],1),s("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse"+n.toString()}},[s("b-card",[s("p",{domProps:{innerHTML:t._s(e.description)}}),s("b-button",{attrs:{size:"sm",variant:"outline-primary"},on:{click:function(s){return t.viewNews(e.link)}}},[t._v("자세히 보기")])],1)],1),s("hr")],1)})),1)],1)],1)],1)],1)},o=[],i=s(6927);const r=(0,i.b)();function a(t,e,s){r.get(`/news/${t}`).then(e).catch(s)}function l(t,e,s){r.get(`/news/interest/${t}`).then(e).catch(s)}function u(t,e,s){r.get(`/news/interest/${t}/${e}`).then(s)}function c(t,e,s){r.delete(`/news/interest/${t}/${e}`).then(s)}function d(t,e,s){r.get(`/news/check/${t}/${e}`).then(s)}var g=s(4665),b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-row",{staticClass:"mt-4 mb-4 text-center"},[s("b-col",{staticClass:"sm-4"},[s("b-form-select",{attrs:{options:t.sidos},on:{change:t.gugunList},model:{value:t.sidoCode,callback:function(e){t.sidoCode=e},expression:"sidoCode"}})],1),s("b-col",{staticClass:"sm-4"},[s("b-form-select",{attrs:{options:t.guguns},on:{change:t.dongList},model:{value:t.gugunCode,callback:function(e){t.gugunCode=e},expression:"gugunCode"}})],1),s("b-col",{staticClass:"sm-4"},[s("b-form-select",{attrs:{options:t.dongs},on:{change:t.sendDong},model:{value:t.dongName,callback:function(e){t.dongName=e},expression:"dongName"}})],1)],1)},h=[];const m="houseStore";var p={name:"NewsSearchBar",data(){return{sidoCode:null,gugunCode:null,dongCode:null,dongName:null}},computed:{...(0,g.rn)(m,["sidos","guguns","dongs"])},created(){this.CLEAR_SIDO_LIST(),this.getSido()},methods:{...(0,g.nv)(m,["getSido","getGugun","getDong2","getHouseList"]),...(0,g.OI)(m,["CLEAR_SIDO_LIST","CLEAR_GUGUN_LIST","CLEAR_DONG_LIST"]),gugunList(){this.CLEAR_GUGUN_LIST(),this.gugunCode=null,this.sidoCode&&this.getGugun(this.sidoCode)},dongList(){this.CLEAR_DONG_LIST(),this.dongCode=null,this.gugunCode&&this.getDong2(this.gugunCode)},sendDong(){this.$emit("selected",this.dongName)}}},f=p,C=s(1001),_=(0,C.Z)(f,b,h,!1,null,null,null),v=_.exports,w={components:{NewsSearchBar:v},data(){return{news:null,dongName:null,interests:[]}},watch:{interests:[]},computed:{...(0,g.rn)("memberStore",["userInfo"])},created(){null!=this.userInfo&&l(this.userInfo.userid,(t=>{this.interests=t.data}),(t=>{console.log("관심지역 에러 발생",t)}))},methods:{viewNews(t){window.open(t)},selected(t){this.news=null,this.dongName=t,a(t,(t=>{this.news=t.data.items}))},remove(t){c(this.userInfo.userid,t,(()=>{l(this.userInfo.userid,(t=>{this.interests=t.data}),(t=>{console.log("관심지역 에러 발생",t)}))}))},add(t){d(this.userInfo.userid,t,(e=>{0==e.data&&u(this.userInfo.userid,t,(()=>{l(this.userInfo.userid,(t=>{this.interests=t.data}),(t=>{console.log("관심지역 에러 발생",t)}))}))}))}}},L=w,N=(0,C.Z)(L,n,o,!1,null,"08ba953e",null),I=N.exports}}]);
//# sourceMappingURL=976.d8dcc687.js.map